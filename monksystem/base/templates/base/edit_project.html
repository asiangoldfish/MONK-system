{% extends 'main.html' %}

{% load static %}

{% block content %}
<div class="container mt-5" style="max-width: 800px;">
    <h2 style="text-align: center; margin-bottom: 30px;">Edit Project: {{ project.rekNummer }}</h2>
    <form method="POST" action="" style="font-family: Arial, sans-serif;">
        {% csrf_token %}
        <fieldset style="border: 1px solid #ccc; padding: 20px; margin-bottom: 20px;">
            <legend style="width: auto; padding: 0 10px; margin-bottom: 10px;">Select Users</legend>
            {% for user in users %}
            <div class="form-check" style="margin-bottom: 10px;">
                <input class="form-check-input" type="checkbox" name="users" value="{{ user.id }}" id="user{{ user.id }}" {% if user in project.users.all %}checked{% endif %} style="margin-right: 10px;">
                <label class="form-check-label" for="user{{ user.id }}">
                    {{ user.name }}
                </label>
            </div>
            {% endfor %}
        </fieldset>
        
        <fieldset style="border: 1px solid #ccc; padding: 20px; margin-bottom: 20px;">
            <legend style="width: auto; padding: 0 10px; margin-bottom: 10px;">Select Subjects</legend>
            {% for subject in subjects %}
            <div class="form-check" style="margin-bottom: 10px;">
                <input class="form-check-input" type="checkbox" name="subjects" value="{{ subject.id }}" id="subject{{ subject.id }}" {% if subject in project.subjects.all %}checked{% endif %} style="margin-right: 10px;">
                <label class="form-check-label" for="subject{{ subject.id }}">
                    {{ subject.file.title }} - {{ subject.subject_id }}
                </label>
            </div>
            {% endfor %}
        </fieldset>
        
        <div style="text-align: center; margin-top: 20px;">
            <button type="submit" class="btn btn-primary" style="background-color: #007bff; border-color: #007bff; padding: 10px 20px; font-size: 16px;">Update Project</button>
        </div>
    </form>
</div>
{% endblock %}
